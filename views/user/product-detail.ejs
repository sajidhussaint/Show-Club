<%- include('./header') %>

<style>
.btn-orange{
		background-color: orangered;
	}
.product-image-container {
    position: relative;
    overflow: hidden;
    
    
}

#main-image {
    width: 100%;
    height: 100%;
    transition: transform 0.3s ease;
}

.zoomed-image {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    transform: scale(1.5);
    transition: opacity 0.3s ease;
}

</style>
		<div class="breadcrumbs">
			<div class="container">
				<div class="row">
					<div class="col">
						<p class="bread"><span><a href="/">Home</a></span> / <span>Product Details</span></p>
					</div>
				</div>
			</div>
		</div>


		<div class="colorlib-product">
			<div class="container">
				<div class="row row-pb-lg product-detail-wrap">
					<div class="col-sm-8">
						 <div > <!-- class="owl-carousel" -->
							<div class="item">
								<div class="product-entry border product-image-container" ><!--   id="img-container" -->
									
										<img id="main-image" src="/admin/IMAGES_DB/<%= product.image[0] %>" class="img-fluid" alt="Free html5 bootstrap 4 template">
									
								</div>
								
							</div>
							<!-- <div class="item">
								<div class="product-entry border">
									<a href="#" class="prod-img">
										<img src="/admin/IMAGES_DB/<%= product.image[0] %>" class="img-fluid" alt="Free html5 bootstrap 4 template">
									</a>
								</div>
							</div> -->
							<!-- <div class="item">
								<div class="product-entry border">
									<a href="#" class="prod-img">
										<img src="/admin/IMAGES_DB/<%= product.image[0] %>" class="img-fluid" alt="Free html5 bootstrap 4 template">
									</a>
								</div>
							</div> -->
							<!-- <div class="item">
								<div class="product-entry border">
									<a href="#" class="prod-img">
										<img src="/admin/IMAGES_DB/<%= product.image[0] %>" class="img-fluid" alt="Free html5 bootstrap 4 template">
									</a>
								</div>
							</div> -->
						</div>
					</div>
					<div class="col-sm-4">
						<div class="product-desc">
							<h3><%=product.name %></h3>
							<p class="price">
								<span>â‚¹<%=product.price %></span> 
								<!-- <span class="rate">
									<i class="icon-star-full"></i>
									<i class="icon-star-full"></i>
									<i class="icon-star-full"></i>
									<i class="icon-star-full"></i>
									<i class="icon-star-half"></i>
									(74 Rating)
								</span> -->
							</p>
							<p><%= product.description%></p>
							<!-- <div class="size-wrap">
								<div class="block-26 mb-2">
									<h4>Size</h4>
				               <ul>
				                  <li><a href="#">7</a></li>
				                  <li><a href="#">7.5</a></li>
				                  <li><a href="#">8</a></li>
				                  <li><a href="#">8.5</a></li>
				                  <li><a href="#">9</a></li>
				                  <li><a href="#">9.5</a></li>
				                  <li><a href="#">10</a></li>
				                  <li><a href="#">10.5</a></li>
				                  <li><a href="#">11</a></li>
				                  <li><a href="#">11.5</a></li>
				                  <li><a href="#">12</a></li>
				                  <li><a href="#">12.5</a></li>
				                  <li><a href="#">13</a></li>
				                  <li><a href="#">13.5</a></li>
				                  <li><a href="#">14</a></li>
				               </ul>
				            </div> -->
							</div>
                     <!-- <div class="input-group mb-4">
                     	<span class="input-group-btn">
                        	<button type="button" class="quantity-left-minus btn"  data-type="minus" data-field="">
                           <i class="icon-minus2"></i>
                        	</button>
                    		</span>
                     	<input type="text" id="quantity" name="quantity" class="form-control input-number" value="1" min="1" max="100">
                     	<span class="input-group-btn ml-1">
                        	<button type="button" class="quantity-right-plus btn" data-type="plus" data-field="">
                             <i class="icon-plus2"></i>
                         </button>
                     	</span>
                  	</div> -->
                  	<div class="row text-center">
	                  	<div class="col-sm-12 text-center p-5">
							
								<input type="hidden" id="custId" name="product" value="<%=product.id%>">
								
									
									<%if(product.quantity> 0){%>

										<% if (productavaliable != -1) { %>

											
											<a href="/cart" class="btn btn-primary btn-addtocart text-center" style="color: white;" ><i class="icon-shopping-cart"></i>Go to Cart</a>
																							   
										  <% } else { %>
																							  											  
											<a class="btn btn-primary btn-addtocart text-center " style="color: white; background-color: #F6511D;" onclick="addToCart('<%=product._id%>')"><i class="icon-shopping-cart"></i>Add to Cart</a>
										<% } %>

										
										
										
										
										<%
									}else{%>
										<a style="color: white;" class="btn btn-danger mr-2"> out of Stock!!</a>
									<%}%>
						
							</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row col-md-10 pl-5">
					<div class="col-sm-10>
						<div class="row">
							<div class="col-md-12 pills">
								<div class="bd-example bd-example-tabs">
								  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">

								    <li class="nav-item">
								      <a class="nav-link active" id="pills-description-tab" data-toggle="pill" href="#pills-description" role="tab" aria-controls="pills-description" aria-expanded="true">Description</a>
								    </li>
								    <li class="nav-item">
								      <a class="nav-link" id="pills-manufacturer-tab" data-toggle="pill" href="#pills-manufacturer" role="tab" aria-controls="pills-manufacturer" aria-expanded="true">Manufacturer</a>
								    </li>
									<!--
								    <li class="nav-item">
								      <a class="nav-link" id="pills-review-tab" data-toggle="pill" href="#pills-review" role="tab" aria-controls="pills-review" aria-expanded="true">Review</a>
								     </li>
								  </ul>-->

								  <div class="tab-content" id="pills-tabContent">
								    <div class="tab-pane border fade show active" id="pills-description" role="tabpanel" aria-labelledby="pills-description-tab">
								      <p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic life One day however a small line of blind text by the name of Lorem Ipsum decided to leave for the far World of Grammar.</p>
										<p>When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, then she continued her way.</p>
										<ul>
											<li>The Big Oxmox advised her not to do so</li>
											<li>Because there were thousands of bad Commas</li>
											<li>Wild Question Marks and devious Semikoli</li>
											<li>She packed her seven versalia</li>
											<li>tial into the belt and made herself on the way.</li>
										</ul>
								    </div>

								    <div class="tab-pane border fade" id="pills-manufacturer" role="tabpanel" aria-labelledby="pills-manufacturer-tab">
								      <p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic life One day however a small line of blind text by the name of Lorem Ipsum decided to leave for the far World of Grammar.</p>
										<p>When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, then she continued her way.</p>
								    </div>

								    








								  </div>
								</div>
				         </div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- old sweet alert -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- old sweet alert -->



		<script>
		   
		  const addToCart = async (product_Id)=>{   
	 try {
		showSwal('success-message');
		
	   event.preventDefault();
	let product_quantity =1
	   const quantityData = await axios.post('/cart',{product_quantity,product_Id})
	 } catch (error) {
	   console.log(error.message);
	 }
	 }
	 (function ($) {
        showSwal = function (type) {
          "use strict";
          if (type === "success-message") {
            swal({
              title: "added cart",
              text: "Thanks",
              type: "success",
              button: {
                text: "Continue",
                value: true,
                visible: true,
                className: "btn btn-primary btn-orange",
              },
            });
          } else {
            swal("Error occured !");
          }
        };
      })(jQuery);



	</script>
<script>
const productImageContainer = document.querySelector('.product-image-container');
const mainImage = document.getElementById('main-image');

const zoomedImage = document.createElement('img');
zoomedImage.src = mainImage.src;
zoomedImage.classList.add('zoomed-image');

productImageContainer.appendChild(zoomedImage);

productImageContainer.addEventListener('mousemove', (e) => {
    const { left, top, width, height } = productImageContainer.getBoundingClientRect();
    const { clientX, clientY } = e;

    const x = (clientX - left) / width;
    const y = (clientY - top) / height;

    mainImage.style.transform = `scale(2) translate(-${x * 25}%, -${y * 25}%)`;
    zoomedImage.style.opacity = 0;
    zoomedImage.style.transform = `scale(1) translate(-${x * 25}%, -${y * 25}%)`;
});

productImageContainer.addEventListener('mouseleave', () => {
    mainImage.style.transform = 'scale(1)';
    zoomedImage.style.opacity = 0;
    zoomedImage.style.transform = 'scale(1)';
});

	</script>


			
		
		<%- include('./footer') %>